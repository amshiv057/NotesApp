{"ast":null,"code":"var __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nimport { useCallback, useState } from \"react\";\nimport { useDir, useIsomorphicLayoutEffect, useKeyboardFocusContext, useResizeObserver } from \"@react-md/utils\";\nimport { useTabs } from \"./TabsManager\";\nvar TAB_WIDTH_VAR = \"--rmd-tab-width\";\nvar TAB_OFFSET_VAR = \"--rmd-tab-offset\";\nexport function useTabIndicatorStyles(options) {\n  var ref = options.ref,\n    activeIndex = options.activeIndex;\n  var isRTL = useDir().dir === \"rtl\";\n  var tabs = useTabs().tabs;\n  var watching = useKeyboardFocusContext().watching;\n  var _a = __read(useState(function () {\n      var _a;\n      var tabWidth = \"\".concat(100 / tabs.length, \"%\");\n      return _a = {}, _a[TAB_WIDTH_VAR] = tabWidth, _a[TAB_OFFSET_VAR] = \"calc(\".concat(activeIndex, \" * \").concat(tabWidth, \")\"), _a;\n    }), 2),\n    indicatorStyles = _a[0],\n    setIndicatorStyles = _a[1];\n  var updateIndicatorStyles = useCallback(function () {\n    var _a;\n    var _b;\n    // this is kind of hacky -- the styles should update when switching between\n    // RTL, but the RTL state isn't required for any styles. Just reference it\n    // so that the hooks eslint rule doesn't show a warning...\n    isRTL;\n    var current = (_b = watching.current[activeIndex]) === null || _b === void 0 ? void 0 : _b.element;\n    if (!current) {\n      return;\n    }\n    var cssVars = (_a = {}, _a[TAB_WIDTH_VAR] = \"\".concat(current.offsetWidth, \"px\"), _a[TAB_OFFSET_VAR] = \"\".concat(current.offsetLeft, \"px\"), _a);\n    setIndicatorStyles(function (prevStyles) {\n      if (prevStyles[TAB_WIDTH_VAR] === cssVars[TAB_WIDTH_VAR] && prevStyles[TAB_OFFSET_VAR] === cssVars[TAB_OFFSET_VAR]) {\n        return prevStyles;\n      }\n      return cssVars;\n    });\n  }, [activeIndex, watching, isRTL]);\n  var _b = __read(useResizeObserver(updateIndicatorStyles, {\n      ref: ref\n    }), 2),\n    nodeRef = _b[0],\n    refCallback = _b[1];\n  useIsomorphicLayoutEffect(function () {\n    var _a;\n    var activeTab = (_a = watching.current[activeIndex]) === null || _a === void 0 ? void 0 : _a.element;\n    var container = nodeRef.current;\n    if (!activeTab || !container) {\n      return;\n    }\n    // NOTE: This should probably be moved into the `scrollIntoView` util\n    // whenever I do another major version update. This is the same code, just\n    // using horizontal properties\n    var offsetLeft = activeTab.offsetLeft;\n    var scrollLeft = container.scrollLeft;\n    var tabRight = offsetLeft + activeTab.offsetWidth;\n    var containerRight = container.offsetWidth + scrollLeft;\n    if (tabRight > containerRight) {\n      container.scrollLeft = tabRight - container.offsetWidth;\n    } else if (offsetLeft < scrollLeft) {\n      container.scrollLeft = offsetLeft;\n    }\n  }, [activeIndex, isRTL, nodeRef, watching]);\n  return {\n    refCallback: refCallback,\n    indicatorStyles: indicatorStyles\n  };\n}","map":{"version":3,"names":["useCallback","useState","useDir","useIsomorphicLayoutEffect","useKeyboardFocusContext","useResizeObserver","useTabs","TAB_WIDTH_VAR","TAB_OFFSET_VAR","useTabIndicatorStyles","options","ref","activeIndex","isRTL","dir","tabs","watching","_a","__read","tabWidth","concat","length","indicatorStyles","setIndicatorStyles","updateIndicatorStyles","current","_b","element","cssVars","offsetWidth","offsetLeft","prevStyles","nodeRef","refCallback","activeTab","container","scrollLeft","tabRight","containerRight"],"sources":["E:\\WebDevelop\\React\\Project 07\\movies-app\\node_modules\\@react-md\\tabs\\src\\useTabIndicatorStyles.ts"],"sourcesContent":["import type { Ref, RefCallback } from \"react\";\nimport { useCallback, useState } from \"react\";\nimport {\n  useDir,\n  useIsomorphicLayoutEffect,\n  useKeyboardFocusContext,\n  useResizeObserver,\n} from \"@react-md/utils\";\n\nimport { useTabs } from \"./TabsManager\";\n\nconst TAB_WIDTH_VAR = \"--rmd-tab-width\";\nconst TAB_OFFSET_VAR = \"--rmd-tab-offset\";\n\ntype TabWidthVar = typeof TAB_WIDTH_VAR;\ntype TabOffsetVar = typeof TAB_OFFSET_VAR;\ntype IndicatorStyles = Record<TabWidthVar | TabOffsetVar, string>;\n\nexport interface TabIndicatorStylesHookOptions {\n  ref?: Ref<HTMLDivElement>;\n  activeIndex: number;\n}\n\nexport interface TabIndicatorStylesHookReturnValue {\n  refCallback: RefCallback<HTMLDivElement>;\n  indicatorStyles: IndicatorStyles;\n}\n\nexport function useTabIndicatorStyles(\n  options: TabIndicatorStylesHookOptions\n): TabIndicatorStylesHookReturnValue {\n  const { ref, activeIndex } = options;\n\n  const isRTL = useDir().dir === \"rtl\";\n  const { tabs } = useTabs();\n  const { watching } = useKeyboardFocusContext();\n  const [indicatorStyles, setIndicatorStyles] = useState<IndicatorStyles>(\n    () => {\n      const tabWidth = `${100 / tabs.length}%`;\n      return {\n        [TAB_WIDTH_VAR]: tabWidth,\n        [TAB_OFFSET_VAR]: `calc(${activeIndex} * ${tabWidth})`,\n      };\n    }\n  );\n  const updateIndicatorStyles = useCallback(() => {\n    // this is kind of hacky -- the styles should update when switching between\n    // RTL, but the RTL state isn't required for any styles. Just reference it\n    // so that the hooks eslint rule doesn't show a warning...\n    isRTL;\n\n    const current = watching.current[activeIndex]?.element;\n    if (!current) {\n      return;\n    }\n\n    const cssVars: IndicatorStyles = {\n      [TAB_WIDTH_VAR]: `${current.offsetWidth}px`,\n      [TAB_OFFSET_VAR]: `${current.offsetLeft}px`,\n    };\n    setIndicatorStyles((prevStyles) => {\n      if (\n        prevStyles[TAB_WIDTH_VAR] === cssVars[TAB_WIDTH_VAR] &&\n        prevStyles[TAB_OFFSET_VAR] === cssVars[TAB_OFFSET_VAR]\n      ) {\n        return prevStyles;\n      }\n\n      return cssVars;\n    });\n  }, [activeIndex, watching, isRTL]);\n  const [nodeRef, refCallback] = useResizeObserver(updateIndicatorStyles, {\n    ref,\n  });\n\n  useIsomorphicLayoutEffect(() => {\n    const activeTab = watching.current[activeIndex]?.element;\n    const container = nodeRef.current;\n    if (!activeTab || !container) {\n      return;\n    }\n\n    // NOTE: This should probably be moved into the `scrollIntoView` util\n    // whenever I do another major version update. This is the same code, just\n    // using horizontal properties\n    const { offsetLeft } = activeTab;\n    const { scrollLeft } = container;\n    const tabRight = offsetLeft + activeTab.offsetWidth;\n    const containerRight = container.offsetWidth + scrollLeft;\n    if (tabRight > containerRight) {\n      container.scrollLeft = tabRight - container.offsetWidth;\n    } else if (offsetLeft < scrollLeft) {\n      container.scrollLeft = offsetLeft;\n    }\n  }, [activeIndex, isRTL, nodeRef, watching]);\n\n  return {\n    refCallback,\n    indicatorStyles,\n  };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}