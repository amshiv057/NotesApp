{"ast":null,"code":"var __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nimport { useReducer, useRef } from \"react\";\nimport { useEnsuredRef, useIsomorphicLayoutEffect } from \"@react-md/utils\";\nimport { getTransitionTimeout } from \"./utils\";\nvar INITIAL_STATE = {\n  appearing: false,\n  rendered: true,\n  stage: \"exited\"\n};\n/**\n * You'll most likely want to use the {@link useCSSTransition} hook instead\n * since this is just a low-level hook that can be used to transition using\n * timeouts.\n *\n * @typeParam E - The HTMLElement type used or the ref required for the\n * transition.\n * @remarks \\@since 4.0.0\n */\nexport function useTransition(_a) {\n  var nodeRef = _a.nodeRef,\n    timeout = _a.timeout,\n    transitionIn = _a.transitionIn,\n    _b = _a.reflow,\n    reflow = _b === void 0 ? false : _b,\n    _c = _a.temporary,\n    temporary = _c === void 0 ? false : _c,\n    _d = _a.appear,\n    appear = _d === void 0 ? false : _d,\n    _e = _a.enter,\n    enter = _e === void 0 ? true : _e,\n    _f = _a.exit,\n    exit = _f === void 0 ? true : _f,\n    onEnter = _a.onEnter,\n    onEntering = _a.onEntering,\n    onEntered = _a.onEntered,\n    onExit = _a.onExit,\n    onExiting = _a.onExiting,\n    onExited = _a.onExited;\n  var configuration = {\n    appear: appear,\n    timeout: getTransitionTimeout({\n      timeout: timeout,\n      appear: appear,\n      enter: enter,\n      exit: exit\n    }),\n    reflow: reflow,\n    onEnter: onEnter,\n    onEntering: onEntering,\n    onEntered: onEntered,\n    onExit: onExit,\n    onExiting: onExiting,\n    onExited: onExited\n  };\n  var configurationRef = useRef(configuration);\n  configurationRef.current = configuration;\n  var _g = __read(useEnsuredRef(nodeRef), 2),\n    ref = _g[0],\n    refCallback = _g[1];\n  var _h = __read(useReducer(function reducer(state, action) {\n      var _a = configuration.timeout,\n        appear = _a.appear,\n        enter = _a.enter,\n        exit = _a.exit;\n      var appearing = state.appearing;\n      switch (action) {\n        case \"enter\":\n          {\n            var duration = appearing ? appear : enter;\n            return {\n              stage: duration > 0 ? \"enter\" : \"entered\",\n              rendered: true,\n              appearing: appearing\n            };\n          }\n        case \"entering\":\n        case \"entered\":\n          return {\n            stage: action,\n            rendered: true,\n            appearing: appearing\n          };\n        case \"exit\":\n          {\n            var stage_1 = exit > 0 ? \"exit\" : \"exited\";\n            return {\n              stage: stage_1,\n              rendered: !temporary || stage_1 !== \"exited\",\n              appearing: false\n            };\n          }\n        case \"exiting\":\n        case \"exited\":\n          return {\n            stage: action,\n            rendered: true,\n            appearing: false\n          };\n        case \"unmount\":\n          return {\n            stage: \"exited\",\n            rendered: false,\n            appearing: false\n          };\n      }\n    }, INITIAL_STATE, function () {\n      return {\n        appearing: appear && transitionIn,\n        rendered: !temporary || transitionIn,\n        stage: transitionIn && !appear ? \"entered\" : \"exited\"\n      };\n    }), 2),\n    state = _h[0],\n    dispatch = _h[1];\n  var appearing = state.appearing,\n    rendered = state.rendered,\n    stage = state.stage;\n  var isFirstRender = useRef(true);\n  useIsomorphicLayoutEffect(function () {\n    var _a = configurationRef.current,\n      appear = _a.appear,\n      timeout = _a.timeout,\n      reflow = _a.reflow,\n      onEnter = _a.onEnter,\n      onEntering = _a.onEntering,\n      onEntered = _a.onEntered,\n      onExit = _a.onExit,\n      onExiting = _a.onExiting,\n      onExited = _a.onExited;\n    if (isFirstRender.current) {\n      isFirstRender.current = false;\n      if (appear && transitionIn) {\n        dispatch(\"enter\");\n      }\n      return;\n    }\n    // Cancel any exiting/exited transitions and instead immediately start the\n    // enter transition\n    if (transitionIn && stage.startsWith(\"exit\")) {\n      dispatch(\"enter\");\n      return;\n    }\n    // Cancel any entering/entered transitions and instead immediately start the\n    // exit transition\n    if (!transitionIn && stage.startsWith(\"enter\")) {\n      dispatch(\"exit\");\n      return;\n    }\n    if (reflow && ref.current && stage !== \"exited\" && stage !== \"entered\") {\n      // force reflow by accessing scrollTop\n      ref.current.scrollTop;\n    }\n    var duration = 0;\n    var nextStage = stage;\n    switch (stage) {\n      case \"enter\":\n        onEnter === null || onEnter === void 0 ? void 0 : onEnter(appearing);\n        nextStage = \"entering\";\n        break;\n      case \"entering\":\n        onEntering === null || onEntering === void 0 ? void 0 : onEntering(appearing);\n        duration = timeout.enter;\n        nextStage = \"entered\";\n        break;\n      case \"entered\":\n        onEntered === null || onEntered === void 0 ? void 0 : onEntered(appearing);\n        break;\n      case \"exit\":\n        onExit === null || onExit === void 0 ? void 0 : onExit();\n        nextStage = \"exiting\";\n        break;\n      case \"exiting\":\n        onExiting === null || onExiting === void 0 ? void 0 : onExiting();\n        duration = timeout.exit;\n        nextStage = \"exited\";\n        break;\n      case \"exited\":\n        onExited === null || onExited === void 0 ? void 0 : onExited();\n        break;\n    }\n    if (stage === nextStage) {\n      if (stage === \"exited\" && temporary) {\n        dispatch(\"unmount\");\n      }\n      return;\n    }\n    if (duration <= 0) {\n      dispatch(nextStage);\n      return;\n    }\n    var timer = window.setTimeout(function () {\n      dispatch(nextStage);\n    }, duration);\n    return function () {\n      window.clearTimeout(timer);\n    };\n  }, [appearing, ref, stage, temporary, transitionIn]);\n  return {\n    ref: refCallback,\n    stage: stage,\n    rendered: rendered,\n    appearing: appearing,\n    transitionTo: dispatch\n  };\n}","map":{"version":3,"names":["useReducer","useRef","useEnsuredRef","useIsomorphicLayoutEffect","getTransitionTimeout","INITIAL_STATE","appearing","rendered","stage","useTransition","_a","nodeRef","timeout","transitionIn","_b","reflow","_c","temporary","_d","appear","_e","enter","_f","exit","onEnter","onEntering","onEntered","onExit","onExiting","onExited","configuration","configurationRef","current","_g","__read","ref","refCallback","_h","reducer","state","action","duration","stage_1","dispatch","isFirstRender","startsWith","scrollTop","nextStage","timer","window","setTimeout","clearTimeout","transitionTo"],"sources":["E:\\WebDevelop\\React\\Project 07\\movies-app\\node_modules\\@react-md\\transition\\src\\useTransition.ts"],"sourcesContent":["import { useReducer, useRef } from \"react\";\nimport { useEnsuredRef, useIsomorphicLayoutEffect } from \"@react-md/utils\";\n\nimport type {\n  TransitionHookOptions,\n  TransitionHookReturnValue,\n  TransitionStage,\n  TransitionState,\n} from \"./types\";\nimport { getTransitionTimeout } from \"./utils\";\n\nconst INITIAL_STATE: TransitionState = {\n  appearing: false,\n  rendered: true,\n  stage: \"exited\",\n};\n\n/**\n * You'll most likely want to use the {@link useCSSTransition} hook instead\n * since this is just a low-level hook that can be used to transition using\n * timeouts.\n *\n * @typeParam E - The HTMLElement type used or the ref required for the\n * transition.\n * @remarks \\@since 4.0.0\n */\nexport function useTransition<E extends HTMLElement>({\n  nodeRef,\n  timeout,\n  transitionIn,\n  reflow = false,\n  temporary = false,\n  appear = false,\n  enter = true,\n  exit = true,\n  onEnter,\n  onEntering,\n  onEntered,\n  onExit,\n  onExiting,\n  onExited,\n}: TransitionHookOptions<E>): TransitionHookReturnValue<E> {\n  const configuration = {\n    appear,\n    timeout: getTransitionTimeout({ timeout, appear, enter, exit }),\n    reflow,\n    onEnter,\n    onEntering,\n    onEntered,\n    onExit,\n    onExiting,\n    onExited,\n  } as const;\n  const configurationRef = useRef(configuration);\n  configurationRef.current = configuration;\n\n  const [ref, refCallback] = useEnsuredRef<E>(nodeRef);\n  const [state, dispatch] = useReducer(\n    function reducer(\n      state: TransitionState,\n      action: TransitionStage | \"unmount\"\n    ): TransitionState {\n      const { appear, enter, exit } = configuration.timeout;\n      const { appearing } = state;\n      switch (action) {\n        case \"enter\": {\n          const duration = appearing ? appear : enter;\n          return {\n            stage: duration > 0 ? \"enter\" : \"entered\",\n            rendered: true,\n            appearing,\n          };\n        }\n        case \"entering\":\n        case \"entered\":\n          return {\n            stage: action,\n            rendered: true,\n            appearing,\n          };\n        case \"exit\": {\n          const stage = exit > 0 ? \"exit\" : \"exited\";\n          return {\n            stage,\n            rendered: !temporary || stage !== \"exited\",\n            appearing: false,\n          };\n        }\n        case \"exiting\":\n        case \"exited\":\n          return {\n            stage: action,\n            rendered: true,\n            appearing: false,\n          };\n        case \"unmount\":\n          return {\n            stage: \"exited\",\n            rendered: false,\n            appearing: false,\n          };\n      }\n    },\n    INITIAL_STATE,\n    () =>\n      ({\n        appearing: appear && transitionIn,\n        rendered: !temporary || transitionIn,\n        stage: transitionIn && !appear ? \"entered\" : \"exited\",\n      } as const)\n  );\n  const { appearing, rendered, stage } = state;\n\n  const isFirstRender = useRef(true);\n  useIsomorphicLayoutEffect(() => {\n    const {\n      appear,\n      timeout,\n      reflow,\n      onEnter,\n      onEntering,\n      onEntered,\n      onExit,\n      onExiting,\n      onExited,\n    } = configurationRef.current;\n\n    if (isFirstRender.current) {\n      isFirstRender.current = false;\n      if (appear && transitionIn) {\n        dispatch(\"enter\");\n      }\n\n      return;\n    }\n\n    // Cancel any exiting/exited transitions and instead immediately start the\n    // enter transition\n    if (transitionIn && stage.startsWith(\"exit\")) {\n      dispatch(\"enter\");\n      return;\n    }\n\n    // Cancel any entering/entered transitions and instead immediately start the\n    // exit transition\n    if (!transitionIn && stage.startsWith(\"enter\")) {\n      dispatch(\"exit\");\n      return;\n    }\n\n    if (reflow && ref.current && stage !== \"exited\" && stage !== \"entered\") {\n      // force reflow by accessing scrollTop\n      ref.current.scrollTop;\n    }\n\n    let duration = 0;\n    let nextStage: TransitionStage = stage;\n    switch (stage) {\n      case \"enter\":\n        onEnter?.(appearing);\n        nextStage = \"entering\";\n        break;\n      case \"entering\":\n        onEntering?.(appearing);\n        duration = timeout.enter;\n        nextStage = \"entered\";\n        break;\n      case \"entered\":\n        onEntered?.(appearing);\n        break;\n      case \"exit\":\n        onExit?.();\n        nextStage = \"exiting\";\n        break;\n      case \"exiting\":\n        onExiting?.();\n        duration = timeout.exit;\n        nextStage = \"exited\";\n        break;\n      case \"exited\":\n        onExited?.();\n        break;\n    }\n\n    if (stage === nextStage) {\n      if (stage === \"exited\" && temporary) {\n        dispatch(\"unmount\");\n      }\n\n      return;\n    }\n\n    if (duration <= 0) {\n      dispatch(nextStage);\n      return;\n    }\n\n    const timer = window.setTimeout(() => {\n      dispatch(nextStage);\n    }, duration);\n\n    return () => {\n      window.clearTimeout(timer);\n    };\n  }, [appearing, ref, stage, temporary, transitionIn]);\n\n  return {\n    ref: refCallback,\n    stage,\n    rendered,\n    appearing,\n    transitionTo: dispatch,\n  };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}